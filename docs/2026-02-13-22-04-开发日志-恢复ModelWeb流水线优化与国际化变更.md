# 2026-02-13-22-04-开发日志-恢复ModelWeb流水线优化与国际化变更

## 1. 背景 (Background)

用户要求从之前失败的尝试（commit `22525448fe62942caf5122e9fb51d81f98be868a`）中恢复一系列关键的 Model Web 优化和修复工作。这些变更主要集中在 UI 交互提升、国际化适配以及核心功能的稳定性修复。

## 2. 来源 (Source)
- Commit: `22525448fe62942caf5122e9fb51d81f98be868a`
- [[2026-02-10-23-57-开发日志-ModelWeb流水线展示优化与国际化适配]] (恢复的日志)

## 3. 主要工作 (Major Changes)

### 3.1 WebMarkdownText 增强与国际化
- **全英文适配**：将所有残留的中文字符（标签、描述、按钮等）统一翻译为地道的英文表达。
    - "需求规划" -> "Planning"
    - "视觉方案" -> "Design"
    - "代码实现" -> "Development"
    - "优化修正" -> "Refinement"
    - "收起详情" -> "Collapse"
    - "查看原文" -> "View Details"
- **建议示例优化**：修复了 `ThreadSuggestions` 在侧边栏模式下的 CSS 限制导致卡片被隐藏的 Bug，并新增了 "Personal Business Card" 示例。

### 3.2 预览稳定性修复
- **锚点拦截 (patchScript)**：在 `WebPreview` 的 `srcDoc` 中注入了补丁脚本。该脚本拦截所有以 `#` 开头的锚点跳转，改为使用 `scrollIntoView` 以兼容 iframe 环境。

### 3.3 性能与稳定性
- **无限重渲染修复**：针对 `useAuiState` 选择器返回新对象字面量导致的 React 报错进行了修复，通过拆分选择器确保返回原始字符串/布尔值。

## 4. 验证 (Verification)

- [x] 前端 `thread.tsx` 已完成国际化与重渲染逻辑优化。
- [x] `web-preview.tsx` 已成功注入锚点补丁。
- [x] `web-chat.tsx` 已新增推荐示例并修复 CSS。

## 5. 下一步计划 (Next Steps)

- [ ] 推进 **Model Write** 助手的实现。

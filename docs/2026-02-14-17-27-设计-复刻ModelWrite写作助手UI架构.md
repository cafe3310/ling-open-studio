# 2026-02-14-22-00-设计-ModelWrite沉浸式编辑器UI规范

## 1. 背景 (Background)

基于历史版本的复刻与迭代，Model Write 已演进为一个具备“双栏协作”与“异步预处理感官”的沉浸式创意写作环境。本文档定义了其最终的 UI 视觉与交互标准。

## 2. 布局架构 (Layout Architecture)

### 2.1 三栏助手隔离
- **左侧 (Lore Sidebar)**: 设定集、Summary 与知识库管理。
- **中间 (Main Canvas)**: 核心写作区，采用双栏 Grid 布局（7:3）。
- **右侧 (Insight Sidebar)**: 动作触发区与灵感卡片流。

### 2.2 编辑器双栏细节 (Two-Column Editor)
- **左侧 (Writing Area)**: 15px `JetBrains Mono` 等宽字体，行高 1.9。
- **右侧 (Insight Margin)**: 预处理概要展示区。与段落垂直对齐，通过 `border-l` 实现类似 Word 审阅栏的视觉感。

## 3. 视觉状态语言 (Visual States)

### 3.1 段落预处理状态 (Preprocessing States)
- **正在书写 (Raw)**: `text-brand-dark` (纯黑)。代表用户当前的输入焦点。
- **正在处理 (Processing)**: `text-amber-600/50` (琥珀黄)。代表 AI 正在后台进行异步摘要与实体提取。
- **处理完成 (Completed)**: `text-indigo-900/70` (深靛蓝)。代表内容已建立索引，视觉上沉淀为稳定背景。

### 3.2 预处理概要 (Segment Insights)
- **Summary**: 展示在 Insight Margin 的段落上方。样式：`text-[11px] italic text-brand-dark/40 font-sans`。
- **Entity Pills**: 展示在摘要下方。样式：微型蓝色 `Badge` (`bg-indigo-50/50 text-indigo-900/40`)。

## 4. 辅助交互组件

### 4.1 写作状态查看器 (WriteStatusViewer)
- **位置**: 左下角浮动。
- **功能**: 监控 VFS、编辑器内核及 5 个推理 Graph 的实时状态。
- **指标**: 实时显示推理输出长度（每 50 字符/tokens 更新一次）。

### 4.2 知识库详情 (Entry Dialog)
- **结构**: 分栏式 Dialog。
- **左侧**: 条目定义编辑器。
- **右侧**: AI 建议碎片。支持点击建议块将内容自动缝合至定义区。

## 5. 关联文档
- 工作流与模型选型: [[2026-02-14-21-30-架构设计-ModelWrite智能体流程与模型选型]]
- 开发日志: [[2026-02-14-23-10-开发日志-完成ModelWrite交互架构与双栏布局]]

# 2026-02-14-17-27-设计-复刻ModelWrite写作助手UI架构

## 1. 背景 (Background)

用户要求在当前分支上复刻历史 commit `4ae7654190f86ccd8d9481a0efc475605878dbbb` 中关于 "Model Write" 写作助手的开发内容。该历史版本已实现了写作助手的沉浸式 UI 架构，包括三栏式布局、视觉风格定义以及初步的助手注册。

## 2. 来源文档 (Source)
- 历史 Commit: `4ae7654190f86ccd8d9481a0efc475605878dbbb`
- [[2026-02-11-00-04-设计-ModelWrite写作助手功能与架构.md]] (历史)
- [[2026-02-11-01-04-开发日志-ModelWrite写作助手UI架构实现.md]] (历史)

## 3. 设计目标 (Goals)

1.  **UI 复刻**: 完整恢复写作助手的三栏式布局：
    - **左侧栏**: 作品元数据、摘要、世界观设定、角色列表。
    - **中间栏**: 沉浸式 Canvas，使用 Playfair Display 字体。
    - **右侧栏**: AI 灵感卡片、检测到的概念标签云。
2.  **视觉校准**: 确保使用 Ice Gray 背景、Brand Dark 文字和 Action Blue 强调色。
3.  **架构集成**: 
    - 在 `src/assistants/registry.ts` 中注册 `write-gen`。
    - 在 `StudioShell` 中挂载 `WriteArchitectAssistant`。
    - 确保独立的 `AssistantRuntimeProvider` 作用域。

## 4. 技术方案 (Technical Approach)

- **依赖恢复**: 确认并安装 `radix-ui` 及其相关组件。
- **文件迁移**: 从历史 commit 中提取 `src/components/assistants/write-architect/` 下的所有组件。
- **UI 组件**: 恢复 `src/components/ui/badge.tsx`。
- **系统集成**: 修改 `src/assistants/registry.ts` 和 `src/components/studio/studio-shell.tsx`。

## 5. 后续演进 (Next Steps)
- 在 UI 恢复后，进一步实现 Canvas 的可编辑性和 LangGraph 逻辑。
